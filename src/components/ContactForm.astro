---
const { t } = Astro.props;
---
<form id="contact-mail-form" class="flex-1 bg-slate-800 rounded-lg p-6 shadow space-y-4 flex flex-col justify-center">
  <label class="block text-left">
    <span class="block mb-1 font-semibold">{t.contact.subject}</span>
    <input name="subject" type="text" required class="w-full px-3 py-2 rounded bg-slate-900 text-slate-100 border border-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />
  </label>
  <label class="block text-left">
    <span class="block mb-1 font-semibold">{t.contact.message}</span>
    <textarea name="message" required rows="4" class="w-full px-3 py-2 rounded bg-slate-900 text-slate-100 border border-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
  </label>
  <button type="submit" class="w-full py-3 bg-cyan-500 text-white font-bold rounded hover:bg-cyan-600 transition">{t.contact.sendEmail}</button>
</form>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const form = document.getElementById('contact-mail-form');
    if (form) {
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        const subject = encodeURIComponent((form as HTMLFormElement).subject.value);
        const body = encodeURIComponent((form as HTMLFormElement).message.value);
        window.location.href = `mailto:3dstation.mk@gmail.com?subject=${subject}&body=${body}`;
      });
    }
  });
</script> 